<html>
<head>
<title>Docs for page functions.php</title>
<link rel="stylesheet" type="text/css" href="../../media/style.css">
</head>
<body>

<table border="0" cellspacing="0" cellpadding="0" height="48" width="100%">
  <tr>
    <td class="header_top">SACC</td>
  </tr>
  <tr><td class="header_line"><img src="../../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
  <tr>
    <td class="header_menu">
  		  [ <a href="../../classtrees_SACC.html" class="menu">class tree: SACC</a> ]
		  [ <a href="../../elementindex_SACC.html" class="menu">index: SACC</a> ]
		  [ <a href="../../elementindex.html" class="menu">all elements</a> ]
    </td>
  </tr>
  <tr><td class="header_line"><img src="../../media/empty.png" width="1" height="1" border="0" alt=""  /></td></tr>
</table>

<table width="100%" border="0" cellpadding="0" cellspacing="0">
  <tr valign="top">
    <td width="200" class="menu">
      <b>Packages:</b><br />
              <a href="../../li_SACC.html">SACC</a><br />
            <br /><br />
                        <b>Files:</b><br />
      	  <div class="package">
			<a href="../../SACC/_sacc_class_class_sacc_base_php.html">		class.sacc.base.php
		</a><br>
	  </div><br />
	subpackage <b>API_Functions</b><br>  <div class="package">
			<a href="../../SACC/API_Functions/_sacc_include_functions_php.html">		functions.php
		</a><br>
	  </div><br />
	subpackage <b>Definitions</b><br>  <div class="package">
			<a href="../../SACC/Definitions/_sacc_include_defines_php.html">		defines.php
		</a><br>
			<a href="../../SACC/Definitions/_sacc_language_english_main_php.html">		main.php
		</a><br>
	  </div><br />
	subpackage <b>Form_Handling</b><br>  <div class="package">
			<a href="../../SACC/Form_Handling/_sacc_class_class_sacc_form_php.html">		class.sacc.form.php
		</a><br>
	  </div><br />
	subpackage <b>SACCAccount</b><br>  <div class="package">
			<a href="../../SACC/SACCAccount/_sacc_class_SACCAccount_php.html">		SACCAccount.php
		</a><br>
	  </div><br />
	subpackage <b>SACCControl</b><br>  <div class="package">
			<a href="../../SACC/SACCControl/_sacc_class_SACCControl_php.html">		SACCControl.php
		</a><br>
	  </div><br />
	subpackage <b>SACCEntry</b><br>  <div class="package">
			<a href="../../SACC/SACCEntry/_sacc_class_SACCEntry_php.html">		SACCEntry.php
		</a><br>
	  </div><br />
	subpackage <b>SACCJournal</b><br>  <div class="package">
			<a href="../../SACC/SACCJournal/_sacc_class_SACCJournal_php.html">		SACCJournal.php
		</a><br>
	  </div><br />
	subpackage <b>SACCOrg</b><br>  <div class="package">
			<a href="../../SACC/SACCOrg/_sacc_class_SACCOrg_php.html">		SACCOrg.php
		</a><br>
	  </div><br />
      
            <b>Classes:</b><br />
        <div class="package">
	SACCAccount<br />	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCAccount.html">SACCAccount</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCAssetAc.html">SACCAssetAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCBankAc.html">SACCBankAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCCRAccount.html">SACCCRAccount</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCCustomerAc.html">SACCCustomerAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCDRAccount.html">SACCDRAccount</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCEquityAc.html">SACCEquityAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCExpenseAc.html">SACCExpenseAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCIncomeAc.html">SACCIncomeAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCLiabilityAc.html">SACCLiabilityAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/SACCSupplierAc.html">SACCSupplierAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCAccount/Xbs_SaccSACCAccountHandler.html">Xbs_SaccSACCAccountHandler</a><br />
	  </div>
  <div class="package">
	SACCEntry<br />	    &nbsp;&nbsp;		<a href="../../SACC/SACCEntry/SACCAcEntry.html">SACCAcEntry</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCEntry/Xbs_SaccSACCEntryHandler.html">Xbs_SaccSACCEntryHandler</a><br />
	  </div>
  <div class="package">
	SACCControl<br />	    &nbsp;&nbsp;		<a href="../../SACC/SACCControl/SACCControl.html">SACCControl</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCControl/Xbs_SaccSACCControlHandler.html">Xbs_SaccSACCControlHandler</a><br />
	  </div>
  <div class="package">
	SACCJournal<br />	    &nbsp;&nbsp;		<a href="../../SACC/SACCJournal/SACCJournal.html">SACCJournal</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCJournal/Xbs_SaccSACCJournalHandler.html">Xbs_SaccSACCJournalHandler</a><br />
	  </div>
  <div class="package">
	SACCOrg<br />	    &nbsp;&nbsp;		<a href="../../SACC/SACCOrg/SACCOrg.html">SACCOrg</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/SACCOrg/Xbs_SaccSACCOrgHandler.html">Xbs_SaccSACCOrgHandler</a><br />
	  </div>
  <div class="package">
	Form_Handling<br />	    &nbsp;&nbsp;		<a href="../../SACC/Form_Handling/SACCFormSelectAccount.html">SACCFormSelectAccount</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/Form_Handling/SACCFormSelectAccPrnt.html">SACCFormSelectAccPrnt</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/Form_Handling/SACCFormSelectAccType.html">SACCFormSelectAccType</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/Form_Handling/SACCFormSelectControlAc.html">SACCFormSelectControlAc</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/Form_Handling/SACCFormSelectOrg.html">SACCFormSelectOrg</a><br />
	    &nbsp;&nbsp;		<a href="../../SACC/Form_Handling/SACCFormSelectOrgAll.html">SACCFormSelectOrgAll</a><br />
	  </div>
                </td>
    <td>
      <table cellpadding="10" cellspacing="0" width="100%" border="0"><tr><td valign="top">

<h1>Procedural File: functions.php</h1>
Source Location: /include/functions.php<br /><br />

<br>
<br>


<h2>Page Details:</h2>
API functions<br /><br /><p>App. Programming Interface functions  To use these function make sure you:  <div class="listing"><pre><ol><li> <span class="src-inc">require_once </span><span class="src-id">SACC_PATH</span>.<span class="src-str">&quot;/include/functions.php&quot;</span><span class="src-sym">;</span></li>
</ol></pre></div></p><p>After calling most functions, if you receive a FALSE return value you can get  the error number and string using SACCGetErrNo() and SACCGetErrMsg()</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>version:</b>&nbsp;&nbsp;</td><td>1</td>
  </tr>
  <tr>
    <td><b>copyright:</b>&nbsp;&nbsp;</td><td>2005 Ashley Kitson, UK</td>
  </tr>
  <tr>
    <td><b>author:</b>&nbsp;&nbsp;</td><td>Ashley Kitson http://xoobs.net</td>
  </tr>
</table>
</div>
<br /><br />
<h4>Includes:</h4>
<div class="tags">
require_once(CDM_PATH."/include/functions.php") [line 56]<br />
CDM API functions<br /><br /></div>
<br /><br />
<br /><br />
<br />
  <hr />
	<a name="functionSACCCreateAccount"></a>
	<h3>SACCCreateAccount <span class="smalllinenumber">[line 178]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed SACCCreateAccount(
int $org_id, string $ac_nm, string $ac_tp, int $ac_prnt_id, string $ac_prps, string $ac_note, [string $currency = null])</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Create an account for an organisation<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>SACCAccount object else false if unable to create account</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">int&nbsp;&nbsp;</td>
        <td><b>$org_id</b>&nbsp;&nbsp;</td>
        <td>Id of organisation</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$ac_nm</b>&nbsp;&nbsp;</td>
        <td>Name of account</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$ac_tp</b>&nbsp;&nbsp;</td>
        <td>Type of account one of SACC_ACTP_INCOME, SACC_ACTP_EXPENSE, SACC_ACTP_ASSET, SACC_ACTP_LIABILITY, SACC_ACTP_BANK, SACC_ACTP_SUPPLIER, SACC_ACTP_CUSTOMER, SACC_ACTP_EQUITY</td>
      </tr>
		      <tr>
        <td class="type">int&nbsp;&nbsp;</td>
        <td><b>$ac_prnt_id</b>&nbsp;&nbsp;</td>
        <td>Account id of the parent to this account</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$ac_prps</b>&nbsp;&nbsp;</td>
        <td>Purpose of account</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$ac_note</b>&nbsp;&nbsp;</td>
        <td>Note on account</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$currency</b>&nbsp;&nbsp;</td>
        <td>Default Null. If null or not given then default SACC currency.  If value is given then it should be from the set of CDM CURRENCY codes.</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCCreateOrg"></a>
	<h3>SACCCreateOrg <span class="smalllinenumber">[line 124]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed SACCCreateOrg(
string $orgname, [string $currency = null])</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Create an organisation<br /><br /><p>If $currency is null or not given then default SACC currency will be used</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>SACCOrg Object else FALSE if unable to create organisation</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$orgname</b>&nbsp;&nbsp;</td>
        <td>Name of the organisation</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$currency</b>&nbsp;&nbsp;</td>
        <td>Currency code (see CDM currency codes)</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCFormatMoney"></a>
	<h3>SACCFormatMoney <span class="smalllinenumber">[line 111]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string SACCFormatMoney(
numeric $amount)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Return formatted string for display of money amount<br /><br /><p>Uses number_format() as money_format doesn't work on MSWin based servers.</p><br />    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">numeric&nbsp;&nbsp;</td>
        <td><b>$amount</b>&nbsp;&nbsp;</td>
        <td></td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCGetAccount"></a>
	<h3>SACCGetAccount <span class="smalllinenumber">[line 210]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed SACCGetAccount(
int $ac_id)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Return account object associated with the account id<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>SACCAccount Object else FALSE if error</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">int&nbsp;&nbsp;</td>
        <td><b>$ac_id</b>&nbsp;&nbsp;</td>
        <td>Account ID</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCGetControlAccount"></a>
	<h3>SACCGetControlAccount <span class="smalllinenumber">[line 229]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed SACCGetControlAccount(
int $org_id, string $ctrl_name)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Returns the account associated with the specified control account<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>SACCAccount object else False</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">int&nbsp;&nbsp;</td>
        <td><b>$org_id</b>&nbsp;&nbsp;</td>
        <td>Organisation identifier id</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$ctrl_name</b>&nbsp;&nbsp;</td>
        <td>Control account name.  One of SACC_CNTL_.. constants defined in defines.php</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCGetErrMsg"></a>
	<h3>SACCGetErrMsg <span class="smalllinenumber">[line 97]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>string SACCGetErrMsg(
)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Get last SACC error message<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>global:</b>&nbsp;&nbsp;</td><td>array $_SESSION: User session</td>
  </tr>
</table>
</div>
    <br /><br />
	
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCGetErrNo"></a>
	<h3>SACCGetErrNo <span class="smalllinenumber">[line 86]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>int SACCGetErrNo(
)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Get last SACC error number<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>global:</b>&nbsp;&nbsp;</td><td>array $_SESSION: User session</td>
  </tr>
</table>
</div>
    <br /><br />
	
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCGetOrg"></a>
	<h3>SACCGetOrg <span class="smalllinenumber">[line 153]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed SACCGetOrg(
int $org_id)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Get the organisation associated with $org_id org identifier<br /><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>SACCOrg object else FALSE on error</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">int&nbsp;&nbsp;</td>
        <td><b>$org_id</b>&nbsp;&nbsp;</td>
        <td>Organisation ID</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCInitJournal"></a>
	<h3>SACCInitJournal <span class="smalllinenumber">[line 256]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>mixed SACCInitJournal(
int $org_id, string $dt, [string $purpose = null])</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Initialise a Journal object<br /><br /><p>Initialises (but does not create on the database), a journal object.  You will want to call $journalObject-&gt;appendEntry() to add account  entries to the journal before calling SACCSaveJournal to save the  journal to the database.</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>SACCJournal object on success else False</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">int&nbsp;&nbsp;</td>
        <td><b>$org_id</b>&nbsp;&nbsp;</td>
        <td>Organisation identifier</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$dt</b>&nbsp;&nbsp;</td>
        <td>Date of journal entry in YYYY-MM-DD format</td>
      </tr>
		      <tr>
        <td class="type">string&nbsp;&nbsp;</td>
        <td><b>$purpose</b>&nbsp;&nbsp;</td>
        <td>Purpose of journal.  Can be ommitted</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>
  <hr />
	<a name="functionSACCSaveJournal"></a>
	<h3>SACCSaveJournal <span class="smalllinenumber">[line 278]</span></h3>
	<div class="function">
    <table width="90%" border="0" cellspacing="0" cellpadding="1"><tr><td class="code_border">
    <table width="100%" border="0" cellspacing="0" cellpadding="2"><tr><td class="code">
		<code>boolean SACCSaveJournal(
object &$journal)</code>
    </td></tr></table>
    </td></tr></table><br />

		Function: Save a journal<br /><br /><p>Safe save of a journal.  If you use $journalObject-&gt;insert(), no balance checking is done.  Use this function to check that the journal balances instead</p><br /><br /><br />
<h4>Tags:</h4>
<div class="tags">
<table border="0" cellspacing="0" cellpadding="0">
  <tr>
    <td><b>return:</b>&nbsp;&nbsp;</td><td>TRUE if Journal balances and is saved else FALSE</td>
  </tr>
</table>
</div>
    <br /><br />
	
    		<h4>Parameters</h4>
    <table border="0" cellspacing="0" cellpadding="0">
		      <tr>
        <td class="type">object&nbsp;&nbsp;</td>
        <td><b>$journal</b>&nbsp;&nbsp;</td>
        <td>SACCJournal object</td>
      </tr>
				</table>
    	<div class="top">[ <a href="#top">Top</a> ]</div><br /><br />
	</div>

        <div class="credit">
		    <hr />
		    Documentation generated on Thu, 23 Feb 2006 13:06:03 +0000 by <a href="http://www.phpdoc.org">phpDocumentor 1.3.0RC3</a>
	      </div>
      </td></tr></table>
    </td>
  </tr>
</table>

</body>
</html>